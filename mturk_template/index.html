<!DOCTYPE html>
<html>
<head>
    <title>Question Answer System Study</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>
    <style>
        .hidden {
            display: none;
        }

        .document {
            display: block; /* Always display documents */
            margin-left: 20px;
        }

        .document-id {
            color: blue;
            text-decoration: underline;
        }

        .citation {
            color: blue;
            text-decoration: underline;
            cursor: pointer;
        }

        .tooltip-container {
            display: none;
            position: relative;
            background-color: #f9f9f9;
            border: 1px solid #ccc;
            padding: 10px;
            z-index: 1000;
            max-width: 1000px;
            white-space: pre-wrap;
            cursor: text;
            user-select: text;
            margin-top: 10px;
        }

        .highlight {
            background-color: yellow; /* Highlight background color */
            padding: 0 2px; /* Optional padding for better appearance */
        }

        #navigation {
            margin-top: 20px;
        }

        textarea {
            width: 100%;
            height: 100px;
        }

    </style>
</head>
<body>

<div class="container">

    <div id="nameContent">
        <h1>Welcome to the Question-Answering Annotation Study</h1>
        <p>Please enter your name and we'll introduce you to your task:</p>
        <!--        <form>-->
        <!--            <input type="text" id="userName" name="userName" value="Your name">-->
        <!--            <button type="button" onclick="saveName()">Next</button>-->
        <!--        </form>-->

    </div>


    <div id="introContent">
        <!--        <h1>Welcome to the Question-Answering Annotation Study</h1>-->
        <p>For this study, you will be revising answers generated by our automated question-answering system. Our system
            answers questions using only relevant sections of documents sourced from our database and provides citations
            using them. Your revisions should ensure that the answer is correct according to the retrieved
            documents.</p>
        <p>You may not use the web or large language models to revise the answers. Some of the documents are
            intentionally
            fabricated, so you will not be able to correctly revise the question by searching online. </p>
        <p>Here is an example of system response that requires revision. Click the citations to view retrieved content
            snippets that are relevant to the question. </p>
        <p><b>Question</b>: Who has been in more musical groups, Cedric Bixler-Zavala or Coko?</p>
        <div id="exampleAnswer"></div>
        <p> In this example, the system-generated answer is incorrect. It claims that Coko has been in was in musical
            groups
            not mentioned in the cited documents. Becuase the system cannot support its claim with the provided
            citations,
            it cannot say that Coko was in four musical groups.
        </p>
        <p> Here is a properly revised answer given the source documents:</p>
        <p><b>Revised Answer</b>: Cedric Bixler-Zavala has been a member of four musical groups: The Mars Volta, At the
            Drive-In, Antemasque, and Zavalaz [1]. Meanwhile, Coko has been part of two musical projects: the R&B trio
            Sisters With Voices (SWV) and a solo gospel career [2]. Therefore, Cedric Bixler-Zavala has been in more
            musical
            groups than Coko.
        <p>Your answers should be at least 1 - 2 sentences long to provide explanations backed by cited content. You may
            choose to use all or none of the system's response for your final answers, so long as the response to the
            query
            is correct, according to the retrieved documents, and additional context in the response matches the
            information
            provided in the given citations. </p>
        <!--        <button onclick="startQuiz()">Next</button>-->

    </div>

    <hr>

    <div id="quizContent">
        <div>
            <p><b>Revise, if necessary, the system-generated answer to the question to ensure that it is correct based
                on
                the cited sources. Use only the citations provided. Answers should be at least 1 - 2 sentences long to
                provide explanations backed by citations. You may chose to use all or none of the system's response for
                your
                final answers, so long as the response to the query is correct and additional context in the response
                matches the information provided in the given citations. Hover over the citations to view retrieved
                content
                snippets that are relevant to the question. Your edited answers will be saved as you navigate between
                questions.</b></p>
        </div>
        <!--        <div id="jsonContent"></div>-->


        <p>
            <b>Question:</b> ${question1}<br>
            <b>System Answer:</b>${answer1}<br>
        <div class="alert alert-warning" role="alert" id="doc1">
        </div>
        <div class="alert alert-warning" role="alert" id="doc2">
        </div>
        <b>Your Revision</b><br>
        <textarea id=revision1" name=revision1">${answer1}</textarea>
        </p>

        <p>
            <b>Question:</b> ${question2}<br>
            <b>System Answer:</b>${answer2}<br>
        <div class="alert alert-warning" role="alert" id="doc3">
        </div>
        <div class="alert alert-warning" role="alert" id="doc4">
        </div>
        <b>Your Revision</b><br>
        <textarea id=revision2" name=revision1">${answer2}</textarea>
        </p>

        <p>
            <b>Question:</b> ${question3}<br>
            <b>System Answer:</b>${answer3}<br>
        <div class="alert alert-warning" role="alert" id="doc5">
        </div>
        <div class="alert alert-warning" role="alert" id="doc6">
        </div>
        <b>Your Revision</b><br>
        <textarea id=revision4" name=revision1">${answer3}</textarea>
        </p>

        <div id="questionCounter"></div>

        <!--        <div id="navigation">-->
        <!--            <button id="nextButton" onclick="nextQuestion()">Next</button>-->
        <!--        </div>-->
        <!--        <button id="endButton" style="display: none;" onclick="endQuiz()">Finish and Save</button>-->
    </div>

    <hr>

    <div id="thankYouContent">
        <h1>Thank You!</h1>
        <p>Thank you for completing the quiz. Your answers have been saved. We appreciate your time and effort.</p>
    </div>
</div>

<script>

    var documents1 = `${documents1}`
    docs = documents1.split("||||")
    $("#doc1").text(docs[0])
    $("#doc2").text(docs[1])

    // console.log(documents1)

</script>

</body>
</html>
